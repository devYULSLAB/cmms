# 개발 환경 전용 설정
spring:
  config:
    import:
      - optional:classpath:dev.properties
  
  # 데이터베이스 개발 설정
  datasource:
    url: ${DB_URL:jdbc:mariadb://localhost:3306/cmms?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8}
    username: ${DB_USERNAME:root}
    password: ${DB_PASSWORD:}
    driver-class-name: ${DB_DRIVER:org.mariadb.jdbc.Driver}
    hikari:
      auto-commit: true
      minimum-idle: 5
      maximum-pool-size: 10 
  
  # JPA 개발 설정
  jpa:
    hibernate:
      ddl-auto: update  # 개발에서는 update 사용
    show-sql: true  # 개발에서는 SQL 로그 활성화
    properties:
      hibernate:
        'format_sql': true  # 개발에서는 SQL 포맷팅 활성화

  # Thymeleaf 개발 설정
  thymeleaf:
    cache: false  # 개발에서는 캐시 비활성화

  # DevTools 설정
  devtools:
    restart:
      enabled: true
      additional-paths: src/main/resources
      exclude: static/**
      log-condition-evaluation-delta: true
      poll-interval: 500ms
      quiet-period: 100ms
    livereload:
      enabled: true
      port: 35729
    add-properties: true
  
  # 로깅 개발 설정
  logging:
    level:
      org.springframework.security: DEBUG
      com.cmms: DEBUG 
      org.springframework.context.support: TRACE
      org.springframework.context.i18n: TRACE
      org.springframework.boot.devtools: DEBUG
      org.springframework.web: DEBUG
      org.thymeleaf: DEBUG

# 파일 업로드 개발 설정
file:
  upload:
    root-path: ${FILE_UPLOAD_PATH:uploads}
    max-file-size: ${FILE_MAX_SIZE:10MB}
    allowed-file-types: ${FILE_ALLOWED_TYPES:jpg,jpeg,png,gif,pdf,doc,docx,xls,xlsx,txt}
    max-file-count: ${FILE_MAX_COUNT:10}
