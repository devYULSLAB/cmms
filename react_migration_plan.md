# React 전환 마이그레이션 기획안

## 1. 개요

본 문서는 현재 시스템의 프론트엔드 아키텍처를 **React 기반의 SPA (Single Page Application)**로 전환하기 위한 기술 기획 및 실행 계획을 정의합니다. 이 전환을 통해 사용자 경험(UX)을 현대화하고, 개발 생산성 및 유지보수성을 향상시키는 것을 목표로 합니다.

---

## 2. 현황 분석 및 전환 목표

### 2.1. 현황 (As-Is)

- **아키텍처**: 서버 사이드 렌더링(SSR) 기반의 모놀리식 아키텍처 (예: JSP/Servlet, PHP, Ruby on Rails 등).
- **문제점**:
    - 페이지 이동 시 전체 리프레시로 인한 사용자 경험 저하.
    - 프론트엔드와 백엔드 코드의 높은 결합도.
    - 복잡한 UI 인터랙션 구현의 어려움.
    - 최신 프론트엔드 기술 생태계 활용의 한계.

### 2.2. 전환 목표 (To-Be)

- **사용자 경험 향상**: 컴포넌트 기반의 빠른 렌더링과 동적인 UI/UX 제공.
- **개발 생산성 증대**: 재사용 가능한 컴포넌트 기반 개발 및 방대한 React 생태계 활용.
- **유지보수성 개선**: 프론트엔드와 백엔드의 명확한 역할 분리(Headless Architecture)를 통한 코드 관리 용이성 확보.
- **미래 확장성 확보**: 모바일 앱 등 다른 클라이언트를 위한 API 재사용 기반 마련.

---

## 3. 변경 후 아키텍처 (Proposed Architecture)

프론트엔드와 백엔드를 완전히 분리하는 **Headless Architecture**를 채택합니다.

- **프론트엔드 (Client)**: React 기반의 SPA. 브라우저에서 UI 렌더링과 상태 관리를 전담.
- **백엔드 (Server)**: 프론트엔드에 데이터를 제공하는 API 서버 역할만 수행. (RESTful API 또는 GraphQL)
- **통신**: 프론트엔드와 백엔드는 비동기적으로 JSON 형식의 데이터를 통해 통신.

![Architecture Diagram](https://i.imgur.com/9y8pGf2.png)
*(위 이미지는 아키텍처 이해를 돕기 위한 예시입니다.)*

---

## 4. 세부 변경 사항

### 4.1. 프론트엔드: React 디렉토리 구조 (제안)

CRA(Create React App) 또는 Vite를 기반으로, 기능별 모듈화에 초점을 맞춘 구조를 제안합니다.

```
/
├── public/
│   ├── index.html
│   └── assets/ (favicon, robots.txt 등 정적 파일)
├── src/
│   ├── api/
│   │   └── index.js       # API 호출 인스턴스 및 공통 로직 (axios, fetch)
│   ├── assets/
│   │   ├── images/
│   │   └── fonts/
│   ├── components/
│   │   ├── common/        # 원자적 컴포넌트 (Button, Input, Modal 등)
│   │   └── feature/       # 특정 기능 단위의 조합 컴포넌트 (e.g., ProductCard)
│   ├── hooks/
│   │   └── useCustomHook.js # 공통 로직을 담은 커스텀 훅
│   ├── pages/
│   │   ├── MainPage/
│   │   │   ├── index.js
│   │   │   └── style.js
│   │   └── LoginPage/
│   ├── store/
│   │   ├── slices/        # 상태 관리 로직 (Redux Toolkit Slices, Zustand Slices)
│   │   └── index.js       # Store 설정
│   ├── styles/
│   │   ├── GlobalStyle.js # 전역 스타일
│   │   └── theme.js       # 디자인 시스템 테마 (색상, 폰트 크기 등)
│   ├── utils/
│   │   └── formatDate.js  # 순수 유틸리티 함수
│   ├── App.js             # 최상위 컴포넌트 및 라우팅 설정
│   └── index.js           # 애플리케이션 진입점
├── .env                   # 환경 변수
├── package.json           # 의존성 관리
└── README.md
```

### 4.2. 백엔드 변경 사항

- **API 서버로의 전환**: 기존의 View 렌더링 로직을 모두 제거하고, 오직 데이터만 반환하는 **RESTful API** 엔드포인트를 제공해야 합니다.
    - **예시**: `/getBoardList.do` (기존) → `GET /api/v1/boards` (변경)
- **인증 방식 변경**:
    - 기존 세션(Session) 기반 인증 방식에서 **JWT(JSON Web Token) 기반의 토큰 인증**으로 변경을 권장합니다.
    - React 앱은 로그인 성공 시 토큰을 발급받아 `localStorage`나 `secure cookie`에 저장하고, API 요청 시 `Authorization` 헤더에 담아 전송합니다.
- **CORS(Cross-Origin Resource Sharing) 설정**: 프론트엔드(React 앱)와 백엔드(API 서버)의 도메인이 분리되므로, 백엔드 서버에 CORS 정책을 설정하여 특정 도메인의 요청을 허용해야 합니다.

### 4.3. 데이터베이스 변경 사항

- **직접적인 스키마 변경은 최소화될 것으로 예상됩니다.** 데이터베이스의 구조는 비즈니스 로직에 종속적이므로, 프론트엔드 기술 스택 변경이 직접적인 DB 스키마 변경을 요구하지는 않습니다.
- **변경 가능성**:
    - **API 중심 설계에 따른 일부 컬럼 추가/수정**: 프론트엔드에 더 효율적으로 데이터를 전달하기 위해 기존 테이블에 일부 컬럼(예: 상태 코드, 캐시용 데이터)을 추가하거나, 여러 테이블을 조인(JOIN)한 결과를 반환하는 View를 생성할 수 있습니다.
    - **사용자 인증 정보**: JWT 토큰 재발급을 위한 Refresh Token 저장용 테이블이 필요할 수 있습니다.

---

## 5. 마이그레이션 전략 및 단계

점진적인 전환 방식을 통해 리스크를 최소화합니다.

- **1단계: 환경 구축 및 파일럿 프로젝트 (1~2주)**
    - React 개발 환경 구축 (Node.js, Vite/CRA, ESLint, Prettier).
    - 제안된 디렉토리 구조 확정.
    - 로그인, 회원가입 등 핵심적이지만 비교적 간단한 페이지를 파일럿으로 개발하여 기술적 타당성 검증.
    - 백엔드 API 개발 (로그인/인증 API).

- **2단계: 공통 컴포넌트 및 주요 페이지 개발 (3~4주)**
    - 디자인 시스템 기반의 공통 컴포넌트(Button, Modal 등) 개발.
    - 메인 페이지, 상품 목록 등 핵심 페이지 개발.
    - 병렬적으로 백엔드는 해당 페이지에 필요한 API 개발.

- **3단계: 점진적 배포 및 사용자 피드백 수렴 (4주~)**
    - 개발이 완료된 페이지부터 점진적으로 기존 시스템과 교체/배포.
    - (예: `www.example.com/new-main` 과 같이 특정 URL로 신규 버전 오픈)
    - 사용자 피드백을 통해 안정성 확보 및 개선.

- **4단계: 전체 전환 및 기존 시스템 제거 (2주)**
    - 모든 페이지의 전환이 완료되면, 기존 프론트엔드 시스템을 완전히 제거.
    - DNS 설정을 변경하여 메인 도메인이 React 앱을 가리키도록 설정.

---

## 6. 예상 리스크 및 대응 방안

| 리스크 구분 | 내용 | 대응 방안 |
| :--- | :--- | :--- |
| **기술적 리스크** | React 및 관련 라이브러리에 대한 팀의 학습 곡선 | - 공식 문서 스터디 및 코드 리뷰 강화<br>- 외부 교육 또는 전문가 자문 활용 |
| **품질 리스크** | 초기 SPA의 SEO(검색엔진 최적화) 문제 | - `react-helmet`을 사용한 메타 태그 관리<br>- 필요 시 Next.js(SSR) 도입 고려 |
| **운영 리스크** | 신규/기존 시스템 병행 운영에 따른 복잡성 | - 명확한 배포 전략 및 롤백 계획 수립<br>- 전환 기간 동안 모니터링 강화 |

---

## 7. 결론

React 전환은 단기적으로는 기술 학습과 마이그레이션 비용이 발생하지만, 장기적으로는 향상된 사용자 경험, 개발 생산성, 유지보수성을 통해 더 큰 가치를 제공할 것입니다. 본 기획안을 바탕으로 성공적인 프로젝트 전환을 기대합니다.
